<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="742" height="578" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[
Title: Auth JItsi with JWT and an SAML Proxy
USER->JITSI:  CONFERENCE CONNNECT
JITSI-->USER: NOT STARTED (Host request)
USER-> SAML SP: Login
SAML SP--> USER: Redirect to WAYF or IDP
USER -> WAYF/IDP : Login (user/password)
WAYF/IDP --> USER : SAML AuthToken
USER -> SAML SP : Login with AuthToken 
SAML SP -> JWT server : Auth Http Attribute 
JWT server --> SAML SP : JWT
SAML SP --> USER : Redirectio to JItsi with JWT
USER -> JITSI : CONFERENCE CONNECT With JWT ]]></source><desc>Auth JItsi with JWT and an SAML Proxy</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="365.03472900390625" height="27.77777862548828" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="15" y="29.44444465637207" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">Auth JItsi with JWT and an SAML Proxy</tspan></text></g><g class="actor"><rect x="10" y="47.77777862548828" width="58.78596115112305" height="37.77777862548828" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="72.22222328186035" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">USER</tspan></text></g><g class="actor"><rect x="10" y="521.1111221313477" width="58.78596115112305" height="37.77777862548828" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="545.5555667877197" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">USER</tspan></text></g><line x1="39.39298057556152" x2="39.39298057556152" y1="85.55555725097656" y2="521.1111221313477" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="284.4797878265381" y="47.77777862548828" width="67.98611450195312" height="37.77777862548828" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="294.4797878265381" y="72.22222328186035" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="294.4797878265381">JITSI</tspan></text></g><g class="actor"><rect x="284.4797878265381" y="521.1111221313477" width="67.98611450195312" height="37.77777862548828" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="294.4797878265381" y="545.5555667877197" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="294.4797878265381">JITSI</tspan></text></g><line x1="318.47284507751465" x2="318.47284507751465" y1="85.55555725097656" y2="521.1111221313477" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="372.4659023284912" y="47.77777862548828" width="87.1701431274414" height="37.77777862548828" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="382.4659023284912" y="72.22222328186035" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="382.4659023284912">SAML SP</tspan></text></g><g class="actor"><rect x="372.4659023284912" y="521.1111221313477" width="87.1701431274414" height="37.77777862548828" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="382.4659023284912" y="545.5555667877197" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="382.4659023284912">SAML SP</tspan></text></g><line x1="416.0509738922119" x2="416.0509738922119" y1="85.55555725097656" y2="521.1111221313477" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="479.6360454559326" y="47.77777862548828" width="96.77083587646484" height="37.77777862548828" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="489.6360454559326" y="72.22222328186035" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="489.6360454559326">WAYF/IDP</tspan></text></g><g class="actor"><rect x="479.6360454559326" y="521.1111221313477" width="96.77083587646484" height="37.77777862548828" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="489.6360454559326" y="545.5555667877197" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="489.6360454559326">WAYF/IDP</tspan></text></g><line x1="528.021463394165" x2="528.021463394165" y1="85.55555725097656" y2="521.1111221313477" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="596.4068813323975" y="47.77777862548828" width="115.95486450195312" height="37.77777862548828" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="606.4068813323975" y="72.22222328186035" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="606.4068813323975">JWT server</tspan></text></g><g class="actor"><rect x="596.4068813323975" y="521.1111221313477" width="115.95486450195312" height="37.77777862548828" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="606.4068813323975" y="545.5555667877197" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="606.4068813323975">JWT server</tspan></text></g><line x1="654.384313583374" x2="654.384313583374" y1="85.55555725097656" y2="521.1111221313477" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="signal"><text x="87.76971244812012" y="116.11111259460449" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="87.76971244812012">CONFERENCE CONNNECT</tspan></text><line x1="39.39298057556152" x2="318.47284507751465" y1="123.33333587646484" y2="123.33333587646484" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="54.19332695007324" y="153.88889122009277" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="54.19332695007324">NOT STARTED (Host request)</tspan></text><line x1="318.47284507751465" x2="39.39298057556152" y1="161.11111450195312" y2="161.11111450195312" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="203.72891998291016" y="191.66666984558105" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="203.72891998291016">Login</tspan></text><line x1="39.39298057556152" x2="416.0509738922119" y1="198.8888931274414" y2="198.8888931274414" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="117.37474822998047" y="229.44444847106934" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="117.37474822998047">Redirect to WAYF or IDP</tspan></text><line x1="416.0509738922119" x2="39.39298057556152" y1="236.6666717529297" y2="236.6666717529297" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="182.95201110839844" y="267.2222270965576" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="182.95201110839844">Login (user/password)</tspan></text><line x1="39.39298057556152" x2="528.021463394165" y1="274.44445037841797" y2="274.44445037841797" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="216.53707885742188" y="305.0000057220459" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="216.53707885742188">SAML AuthToken</tspan></text><line x1="528.021463394165" x2="39.39298057556152" y1="312.22222900390625" y2="312.22222900390625" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="131.7671127319336" y="342.7777843475342" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="131.7671127319336">Login with AuthToken</tspan></text><line x1="39.39298057556152" x2="416.0509738922119" y1="350.00000762939453" y2="350.00000762939453" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="444.054443359375" y="380.55556297302246" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="444.054443359375">Auth Http Attribute</tspan></text><line x1="416.0509738922119" x2="654.384313583374" y1="387.7777862548828" y2="387.7777862548828" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="520.8166017532349" y="418.33334159851074" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="520.8166017532349">JWT</tspan></text><line x1="654.384313583374" x2="416.0509738922119" y1="425.5555648803711" y2="425.5555648803711" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="93.3816909790039" y="456.111120223999" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="93.3816909790039">Redirectio to JItsi with JWT</tspan></text><line x1="416.0509738922119" x2="39.39298057556152" y1="463.3333435058594" y2="463.3333435058594" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="49.39298057556152" y="493.8888988494873" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="49.39298057556152">CONFERENCE CONNECT With JWT</tspan></text><line x1="39.39298057556152" x2="318.47284507751465" y1="501.11112213134766" y2="501.11112213134766" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g></svg>