<VirtualHost *:443>
        ServerName ${SERVER_NAME}

        SSLEngine on
        SSLCertificateFile      /etc/apache2/apache.pem

	alias /generateToken     /usr/local/jitsi-SAML2JWT/src/services/getAuthToken.php
        
	alias /redirectWithToken /usr/local/jitsi-SAML2JWT/src/services/getAuthToken.php
   	alias /getToken          /usr/local/jitsi-SAML2JWT/src/services/getToken.php

        <Location /Shibboleth.sso>
                AuthType None
                Require all granted
        </Location>
   
        <Location /generateToken>
                AuthType shibboleth
                ShibRequestSetting requireSession 1
                require shib-session
                ShibUseHeaders On
        </Location>

       <Location /getToken>
                AuthType shibboleth
                ShibRequestSetting requireSession 1
                require shib-session
                ShibUseHeaders On
        </Location>

        <Directory /usr/local/jitsi-SAML2JWT/src/services>
                AllowOverride All
                Require all granted
        </Directory>

        LogLevel warn
</VirtualHost>

